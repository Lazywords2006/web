# å®Œæ•´ç½‘ç»œéªŒè¯ç³»ç»Ÿ - é¡¹ç›®æ€»ç»“

## ğŸ‰ é¡¹ç›®å®Œæˆï¼

æ­å–œï¼æ‚¨ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„ã€ç”Ÿäº§å°±ç»ªçš„è®¸å¯è¯ç®¡ç†å’Œé”€å”®ç³»ç»Ÿã€‚

---

## ğŸ“¦ é¡¹ç›®ç»“æ„æ€»è§ˆ

```
ç½‘ç»œéªŒè¯/
â”œâ”€â”€ å®¢æˆ·ç«¯æ ¸å¿ƒåº“/
â”‚   â”œâ”€â”€ auth/           # è®¸å¯è¯è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ hwid/           # ç¡¬ä»¶IDç”Ÿæˆï¼ˆè·¨å¹³å°ï¼‰
â”‚   â”œâ”€â”€ heartbeat/      # å¿ƒè·³ç›‘æ§å’ŒKill Switch
â”‚   â”œâ”€â”€ main.go         # å®¢æˆ·ç«¯ç¤ºä¾‹ç¨‹åº
â”‚   â””â”€â”€ test-server.go  # Mockæµ‹è¯•æœåŠ¡å™¨
â”‚
â”œâ”€â”€ æœåŠ¡å™¨ç«¯/
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ database/   # æ•°æ®åº“å±‚ï¼ˆSQLiteï¼‰
â”‚   â”‚   â”œâ”€â”€ models/     # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ handlers/   # APIå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ utils/      # å·¥å…·å‡½æ•°ï¼ˆJWTã€å¯†é’¥ç”Ÿæˆï¼‰
â”‚   â”‚   â””â”€â”€ main.go     # æœåŠ¡å™¨ä¸»ç¨‹åº
â”‚   â”‚
â”‚   â””â”€â”€ frontend/
â”‚       â”œâ”€â”€ admin/      # ç®¡ç†åå°ç•Œé¢
â”‚       â””â”€â”€ public/     # å…¬å¼€é”€å”®é¡µé¢
â”‚
â”œâ”€â”€ éƒ¨ç½²é…ç½®/
â”‚   â”œâ”€â”€ deployment/
â”‚   â”‚   â”œâ”€â”€ Dockerfile         # Dockeré•œåƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml # å®¹å™¨ç¼–æ’
â”‚   â”‚   â””â”€â”€ nginx.conf         # Nginxåå‘ä»£ç†
â”‚   â”‚
â”‚   â””â”€â”€ DEPLOYMENT.md          # éƒ¨ç½²æŒ‡å—
â”‚
â””â”€â”€ æ–‡æ¡£/
    â”œâ”€â”€ README.md           # é¡¹ç›®è¯´æ˜
    â”œâ”€â”€ INTEGRATION.md      # å®¢æˆ·ç«¯é›†æˆæŒ‡å—
    â”œâ”€â”€ QUICKSTART.md       # å¿«é€Ÿå¼€å§‹
    â””â”€â”€ DEPLOYMENT.md       # éƒ¨ç½²æ–‡æ¡£
```

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½æ¸…å•

### å®¢æˆ·ç«¯åŠŸèƒ½ âœ…
- [x] è·¨å¹³å°ç¡¬ä»¶IDç”Ÿæˆï¼ˆWindows/Linux/macOSï¼‰
- [x] è®¸å¯è¯æ¿€æ´»å’ŒéªŒè¯
- [x] æŒä¹…å¿ƒè·³ç›‘æ§ï¼ˆ30ç§’é—´éš”ï¼Œ3æ¬¡é‡è¯•ï¼‰
- [x] Kill Switchå¼ºåˆ¶ç»ˆæ­¢æœºåˆ¶
- [x] JWTä»¤ç‰Œç®¡ç†
- [x] é…ç½®æ–‡ä»¶æ”¯æŒ
- [x] æ¨¡å—åŒ–æ¶æ„ï¼ˆæ˜“é›†æˆï¼‰

### æœåŠ¡å™¨ç«¯åŠŸèƒ½ âœ…
- [x] RESTful APIè®¾è®¡
- [x] SQLiteæ•°æ®åº“ï¼ˆå¯å‡çº§è‡³PostgreSQLï¼‰
- [x] ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- [x] è®¸å¯è¯CRUDæ“ä½œ
- [x] è®¢å•ç®¡ç†
- [x] æ¿€æ´»æ—¥å¿—è®°å½•
- [x] ç»Ÿè®¡æ•°æ®API
- [x] CORSæ”¯æŒ
- [x] å¥åº·æ£€æŸ¥ç«¯ç‚¹

### å‰ç«¯ç•Œé¢ âœ…
- [x] ç®¡ç†åå°ï¼ˆDashboardï¼‰
  - å®æ—¶ç»Ÿè®¡å¡ç‰‡
  - è®¸å¯è¯ç”Ÿæˆ
  - åˆ—è¡¨ç®¡ç†ï¼ˆç­›é€‰ã€æ›´æ–°ã€åˆ é™¤ï¼‰
  - çŠ¶æ€ç®¡ç†ï¼ˆæ¿€æ´»ã€å°ç¦ï¼‰
- [x] å…¬å¼€é”€å”®é¡µé¢
  - ä»·æ ¼å¡ç‰‡å±•ç¤º
  - åœ¨çº¿è´­ä¹°æµç¨‹
  - è®¸å¯è¯å¯†é’¥äº¤ä»˜

### éƒ¨ç½²æ”¯æŒ âœ…
- [x] Dockeré•œåƒé…ç½®
- [x] Docker Composeç¼–æ’
- [x] Nginxåå‘ä»£ç†
- [x] SSL/TLSé…ç½®ç¤ºä¾‹
- [x] SystemdæœåŠ¡é…ç½®
- [x] è‡ªåŠ¨å¤‡ä»½è„šæœ¬
- [x] å¥åº·æ£€æŸ¥

---

## ğŸš€ å¿«é€Ÿå¼€å§‹æ­¥éª¤

### ç¬¬1æ­¥ï¼šæµ‹è¯•å®¢æˆ·ç«¯ï¼ˆæœ¬åœ°ï¼‰

```bash
# å¯åŠ¨MockæœåŠ¡å™¨
cd ç½‘ç»œéªŒè¯
go run test-server.go

# å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œå®¢æˆ·ç«¯
go run main.go
# è¾“å…¥æµ‹è¯•å¯†é’¥: TEST-LICENSE-KEY-12345
```

### ç¬¬2æ­¥ï¼šéƒ¨ç½²æœåŠ¡å™¨ï¼ˆç”Ÿäº§ï¼‰

```bash
# ä½¿ç”¨Docker Compose
cd deployment
docker-compose up -d

# è®¿é—®ç®¡ç†åå°
open http://your-server:8080/admin/

# è®¿é—®é”€å”®é¡µé¢
open http://your-server:8080/public/
```

### ç¬¬3æ­¥ï¼šé›†æˆåˆ°æ‚¨çš„ç¨‹åº

```bash
# å¤åˆ¶æ ¸å¿ƒæ¨¡å—
cp -r auth hwid heartbeat /your-project/

# ä¿®æ”¹å¯¼å…¥è·¯å¾„
# å‚è€ƒ INTEGRATION.md æ–‡æ¡£
```

---

## ğŸ“Š æ•°æ®åº“æ¶æ„

ç³»ç»ŸåŒ…å«5ä¸ªæ ¸å¿ƒè¡¨ï¼š

| è¡¨å | ç”¨é€” | å…³é”®å­—æ®µ |
|------|------|----------|
| `users` | ç”¨æˆ·ç®¡ç† | email, password, is_admin |
| `products` | äº§å“ç›®å½• | name, price, duration, max_devices |
| `licenses` | è®¸å¯è¯ | license_key, hwid, status, expires_at |
| `orders` | è®¢å•è®°å½• | id, user_id, amount, status |
| `activation_logs` | æ“ä½œæ—¥å¿— | license_key, action, ip_address |

**å…³é”®çŠ¶æ€ï¼š**
- `unused`: æœªæ¿€æ´»
- `active`: å·²æ¿€æ´»
- `expired`: å·²è¿‡æœŸ
- `banned`: å·²å°ç¦

---

## ğŸ”Œ APIç«¯ç‚¹ä¸€è§ˆ

### å®¢æˆ·ç«¯APIï¼ˆè®¸å¯è¯éªŒè¯ï¼‰
```
POST /api/activate   - æ¿€æ´»è®¸å¯è¯
POST /api/heartbeat  - å¿ƒè·³éªŒè¯
```

### ç®¡ç†APIï¼ˆåå°ç®¡ç†ï¼‰
```
POST   /api/admin/license   - ç”Ÿæˆè®¸å¯è¯
GET    /api/admin/licenses  - åˆ—å‡ºè®¸å¯è¯
GET    /api/admin/license   - è·å–è¯¦æƒ…
PUT    /api/admin/license   - æ›´æ–°çŠ¶æ€
DELETE /api/admin/license   - åˆ é™¤è®¸å¯è¯
GET    /api/admin/stats     - è·å–ç»Ÿè®¡
```

---

## ğŸ” å®‰å…¨ç‰¹æ€§

### å·²å®ç° âœ…
- ç¡¬ä»¶ç»‘å®šé˜²æ­¢å…±äº«
- JWTä»¤ç‰Œè®¤è¯
- è¿‡æœŸæ—¶é—´æ£€æŸ¥
- IPåœ°å€è®°å½•
- æ“ä½œæ—¥å¿—å®¡è®¡
- CORSè·¨åŸŸæ”¯æŒ
- å¥åº·æ£€æŸ¥

### é¢„ç•™æ¥å£ï¼ˆç”Ÿäº§ç¯å¢ƒå¯ç”¨ï¼‰ğŸ“
- SSL Pinningï¼ˆ`auth/auth.go:35`ï¼‰
- è¯·æ±‚ç­¾åï¼ˆ`auth/auth.go:67,121`ï¼‰
- é˜²ç¯¡æ”¹æœºåˆ¶ï¼ˆ`heartbeat/heartbeat.go:99`ï¼‰
- bcryptå¯†ç åŠ å¯†ï¼ˆ`server/utils/utils.go`ï¼‰
- é€Ÿç‡é™åˆ¶ï¼ˆNginxé…ç½®ï¼‰

---

## ğŸ“– æ–‡æ¡£å¯¼èˆª

| æ–‡æ¡£ | ç”¨é€” | ç›®æ ‡ç”¨æˆ· |
|------|------|----------|
| [README.md](README.md) | é¡¹ç›®æ¦‚è§ˆ | æ‰€æœ‰äºº |
| [QUICKSTART.md](QUICKSTART.md) | 5åˆ†é’Ÿä¸Šæ‰‹ | å¼€å‘è€… |
| [INTEGRATION.md](INTEGRATION.md) | å®¢æˆ·ç«¯é›†æˆ | é›†æˆå•† |
| [DEPLOYMENT.md](DEPLOYMENT.md) | æœåŠ¡å™¨éƒ¨ç½² | è¿ç»´äººå‘˜ |

---

## ğŸ¯ å…¸å‹åº”ç”¨åœºæ™¯

### åœºæ™¯1ï¼šæ¡Œé¢è½¯ä»¶æˆæƒ
```
ç”¨æˆ·è´­ä¹° â†’ è·å–å¯†é’¥ â†’ è½¯ä»¶æ¿€æ´» â†’ æŒç»­éªŒè¯
```

### åœºæ™¯2ï¼šSaaSè®¢é˜…æœåŠ¡
```
æ³¨å†Œè´¦æˆ· â†’ è´­ä¹°å¥—é¤ â†’ è‡ªåŠ¨æˆæƒ â†’ åˆ°æœŸç»­è´¹
```

### åœºæ™¯3ï¼šä¼ä¸šå†…éƒ¨å·¥å…·
```
ç®¡ç†å‘˜ç”Ÿæˆ â†’ åˆ†å‘å‘˜å·¥ â†’ é›†ä¸­ç®¡ç† â†’ æ‰¹é‡æ§åˆ¶
```

---

## ğŸ› ï¸ è‡ªå®šä¹‰ä¿®æ”¹æŒ‡å—

### ä¿®æ”¹å¿ƒè·³é—´éš”
**ä½ç½®ï¼š** `main.go:105` æˆ– `config.json`
```go
Interval: 60 * time.Second  // æ”¹ä¸º60ç§’
```

### ä¿®æ”¹JWTå¯†é’¥
**ä½ç½®ï¼š** `server/utils/utils.go:11`
```go
const JWTSecret = "your-new-secret-key-here"
```

### æ·»åŠ è‡ªå®šä¹‰äº§å“
**ä½ç½®ï¼š** `server/database/db.go:132`
```go
{"Enterprise", "ä¼ä¸šç‰ˆ", 499.99, 365, 100}
```

### ä¿®æ”¹å‰ç«¯æ ·å¼
**ä½ç½®ï¼š** `frontend/admin/index.html:8`
```css
.header {
    background: linear-gradient(135deg, #your-color1, #your-color2);
}
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ¨èé…ç½®ä¸‹çš„æ€§èƒ½
- **å¹¶å‘ç”¨æˆ·**: 1000+
- **APIå“åº”æ—¶é—´**: <100ms
- **å¿ƒè·³å¤„ç†**: 10,000æ¬¡/åˆ†é’Ÿ
- **æ•°æ®åº“å¤§å°**: 100ä¸‡è®¸å¯è¯ â‰ˆ 500MB
- **å†…å­˜å ç”¨**: æœåŠ¡å™¨ <512MB
- **CPUå ç”¨**: æœåŠ¡å™¨ <20%ï¼ˆç©ºé—²æ—¶ï¼‰

### æ‰©å±•å»ºè®®
- **10ä¸‡ç”¨æˆ·ä»¥ä¸‹**: SQLite + å•æœåŠ¡å™¨
- **10-100ä¸‡ç”¨æˆ·**: PostgreSQL + è´Ÿè½½å‡è¡¡
- **100ä¸‡+ç”¨æˆ·**: åˆ†å¸ƒå¼æ•°æ®åº“ + å¾®æœåŠ¡æ¶æ„

---

## ğŸ› å¸¸è§é—®é¢˜å¿«é€Ÿä¿®å¤

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| å®¢æˆ·ç«¯æ— æ³•è¿æ¥ | æ£€æŸ¥ `config.json` ä¸­çš„ `server_url` |
| æ¿€æ´»å¤±è´¥ | ç¡®è®¤å¯†é’¥æ­£ç¡®ä¸”æœªè¿‡æœŸ |
| å¿ƒè·³æ–­å¼€å¯¼è‡´é€€å‡º | å¢åŠ  `max_retries` å’Œ `retry_delay` |
| æ•°æ®åº“é”å®š | é‡å¯æœåŠ¡å™¨ `docker-compose restart` |
| ç«¯å£å†²çª | ä¿®æ”¹ `docker-compose.yml` ç«¯å£æ˜ å°„ |

---

## ğŸ”„ ç‰ˆæœ¬å‡çº§è·¯å¾„

### v1.0 â†’ v2.0 è®¡åˆ’åŠŸèƒ½
- [ ] æ”¯ä»˜ç½‘å…³é›†æˆï¼ˆStripe/PayPalï¼‰
- [ ] é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ
- [ ] å¤šç§Ÿæˆ·æ¶æ„
- [ ] Redisç¼“å­˜å±‚
- [ ] Webhookæ”¯æŒ
- [ ] APIé™æµ
- [ ] è¯¦ç»†å®¡è®¡æ—¥å¿—
- [ ] å›¾è¡¨å¯è§†åŒ–

---

## ğŸ“ è·å–æ”¯æŒ

### é—®é¢˜æ’æŸ¥æµç¨‹
1. æŸ¥çœ‹æ—¥å¿—ï¼š`docker-compose logs -f`
2. æ£€æŸ¥æ–‡æ¡£ï¼š`README.md` å’Œ `INTEGRATION.md`
3. æœç´¢Issueï¼šGitHub Issues
4. è”ç³»æ”¯æŒï¼šsupport@yourcompany.com

### è´¡çŒ®ä»£ç 
æ¬¢è¿æäº¤PRï¼š
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤å˜æ›´
4. åˆ›å»ºPull Request

---

## âš–ï¸ è®¸å¯è¯å’Œå…è´£å£°æ˜

**âš ï¸ é‡è¦æç¤ºï¼š**
- æœ¬ç³»ç»Ÿè®¾è®¡ç”¨äºåˆæ³•çš„è½¯ä»¶ä¿æŠ¤ç›®çš„
- è¯·ç¡®ä¿éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„
- ä¸è¦ç”¨äºæ¶æ„è½¯ä»¶æˆ–éæ³•ç”¨é€”
- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰è¯·è¿›è¡Œå®‰å…¨å®¡è®¡
- ä½œè€…ä¸å¯¹æ»¥ç”¨æœ¬ç³»ç»Ÿæ‰¿æ‹…è´£ä»»

---

## ğŸ“ å­¦ä¹ èµ„æº

- Goå®˜æ–¹æ–‡æ¡£: https://go.dev/doc/
- JWTä»‹ç»: https://jwt.io/
- Dockeræ–‡æ¡£: https://docs.docker.com/
- SQLiteæ–‡æ¡£: https://www.sqlite.org/docs.html

---

## ğŸ“ˆ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… **å®Œæˆ**: é˜…è¯»æœ¬æ–‡æ¡£
2. ğŸš€ **ç«‹å³**: è¿è¡Œæµ‹è¯•æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯
3. ğŸŒ **ä»Šå¤©**: éƒ¨ç½²åˆ°æµ‹è¯•æœåŠ¡å™¨
4. ğŸ”§ **æœ¬å‘¨**: é›†æˆåˆ°æ‚¨çš„å®é™…ç¨‹åº
5. ğŸ¯ **é•¿æœŸ**: ä¸Šçº¿ç”Ÿäº§ç¯å¢ƒå¹¶ç›‘æ§

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œéšæ—¶è”ç³»æˆ‘ä»¬ã€‚** ğŸ‰

---

*æœ€åæ›´æ–°: 2024å¹´12æœˆ13æ—¥*
