# é›†æˆè®¸å¯è¯éªŒè¯åˆ° lzy_zte_12.10.exe

## âœ… é—®é¢˜å·²ä¿®å¤

æ‚¨é‡åˆ°çš„å´©æºƒé—®é¢˜æ˜¯å› ä¸ºä½¿ç”¨äº† **Xcode Command Line Tools çš„ Python**ï¼Œè¯¥ç‰ˆæœ¬çš„ Tkinter åœ¨ macOS ä¸Šå­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚

å·²ä¿®å¤ï¼šå¯åŠ¨å™¨ç°åœ¨ä¼šåœ¨å¯åŠ¨å‰è‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºä½¿ç”¨æ­£ç¡®çš„ Python ç‰ˆæœ¬ã€‚

## ğŸš€ ä¸‰ç§ä½¿ç”¨æ–¹å¼

### æ–¹å¼ 1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨è â­ï¼‰

ç›´æ¥åŒå‡»è¿è¡Œï¼š
```
å¯åŠ¨å™¨.command
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ä½¿ç”¨ç³»ç»Ÿ Python å¯åŠ¨è®¸å¯è¯éªŒè¯ç¨‹åºã€‚

### æ–¹å¼ 2ï¼šå‘½ä»¤è¡Œå¯åŠ¨

```bash
/usr/bin/python3 launcher_wrapper.py
```

### æ–¹å¼ 3ï¼šç»ˆç«¯è¿è¡Œï¼ˆç”¨äºè°ƒè¯•ï¼‰

```bash
cd /Users/lazywords/Documents/ç½‘ç»œéªŒè¯
/usr/bin/python3 launcher_wrapper.py
```

## ğŸ“¦ æ–‡ä»¶è¯´æ˜

```
é¡¹ç›®ç›®å½•/
â”œâ”€â”€ launcher_wrapper.py      # è®¸å¯è¯éªŒè¯å¯åŠ¨å™¨ï¼ˆä¸»ç¨‹åºï¼‰
â”œâ”€â”€ å¯åŠ¨å™¨.command           # macOS å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ lzy_zte_12.10.exe        # æ‚¨çš„ç¨‹åº
â””â”€â”€ license.dat              # è®¸å¯è¯ä¿¡æ¯ï¼ˆé¦–æ¬¡æ¿€æ´»åç”Ÿæˆï¼‰
```

## ğŸ¯ å·¥ä½œæµç¨‹

### ç¬¬ä¸€æ¬¡ä½¿ç”¨

1. **ç¡®ä¿æœåŠ¡å™¨è¿è¡Œ**
   ```bash
   cd server
   ./server
   ```

2. **åŒå‡»è¿è¡Œ** `å¯åŠ¨å™¨.command` æˆ–æ‰§è¡Œï¼š
   ```bash
   /usr/bin/python3 launcher_wrapper.py
   ```

3. **è¾“å…¥è®¸å¯è¯å¯†é’¥**
   - åœ¨å¼¹å‡ºçš„çª—å£ä¸­è¾“å…¥è®¸å¯è¯
   - ç‚¹å‡»"æ¿€æ´»å¹¶å¯åŠ¨ç¨‹åº"

4. **éªŒè¯æˆåŠŸå**
   - è‡ªåŠ¨ä¿å­˜è®¸å¯è¯åˆ° `license.dat`
   - è‡ªåŠ¨å¯åŠ¨ `lzy_zte_12.10.exe`
   - éªŒè¯çª—å£è‡ªåŠ¨å…³é—­

### åç»­ä½¿ç”¨

1. åŒå‡» `å¯åŠ¨å™¨.command`
2. è‡ªåŠ¨éªŒè¯å·²ä¿å­˜çš„è®¸å¯è¯
3. éªŒè¯é€šè¿‡åç›´æ¥å¯åŠ¨ç¨‹åº

## âš™ï¸ è‡ªå®šä¹‰é…ç½®

ç¼–è¾‘ `launcher_wrapper.py` çš„é…ç½®éƒ¨åˆ†ï¼ˆç¬¬ 41-43 è¡Œï¼‰ï¼š

```python
# ä¿®æ”¹æœåŠ¡å™¨åœ°å€
self.server_url = "http://localhost:8080"  # æ”¹ä¸ºæ‚¨çš„æœåŠ¡å™¨

# ä¿®æ”¹è¦å¯åŠ¨çš„ç¨‹åº
self.target_exe = "lzy_zte_12.10.exe"  # æ”¹ä¸ºæ‚¨çš„ç¨‹åºå

# ä¿®æ”¹è®¸å¯è¯æ–‡ä»¶å
self.license_file = "license.dat"  # è‡ªå®šä¹‰æ–‡ä»¶å
```

## ğŸ”§ åœ¨ Windows ä¸Šè¿è¡Œ exe

åœ¨ macOS ä¸Šè¿è¡Œ Windows exe ç¨‹åºéœ€è¦ **Wine**ï¼š

### å®‰è£… Wine

```bash
brew install wine-stable
```

### è¿è¡Œç¨‹åº

å¯åŠ¨å™¨ä¼šè‡ªåŠ¨ä½¿ç”¨ Wine è¿è¡Œ exe ç¨‹åºã€‚å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥æ‰‹åŠ¨æµ‹è¯•ï¼š

```bash
wine lzy_zte_12.10.exe
```

## ğŸ“¦ æ‰“åŒ…æˆåº”ç”¨ç¨‹åºï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³æŠŠå¯åŠ¨å™¨æ‰“åŒ…æˆç‹¬ç«‹çš„ macOS åº”ç”¨ï¼š

### 1. å®‰è£… PyInstaller

```bash
/usr/bin/python3 -m pip install pyinstaller requests
```

### 2. æ‰“åŒ…

```bash
/usr/bin/python3 -m PyInstaller \
    --onefile \
    --windowed \
    --name="è®¸å¯è¯éªŒè¯ç³»ç»Ÿ" \
    --add-data "lzy_zte_12.10.exe:." \
    launcher_wrapper.py
```

### 3. æŸ¥çœ‹ç»“æœ

```
dist/
â””â”€â”€ è®¸å¯è¯éªŒè¯ç³»ç»Ÿ.app    # ç‹¬ç«‹åº”ç”¨ï¼Œå¯ä»¥åˆ†å‘
```

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šæç¤º"æ£€æµ‹åˆ° Xcode Command Line Tools Python"

**è§£å†³**ï¼šä½¿ç”¨æç¤ºçš„å‘½ä»¤è¿è¡Œ
```bash
/usr/bin/python3 launcher_wrapper.py
```

æˆ–ç›´æ¥åŒå‡» `å¯åŠ¨å™¨.command`

### é—®é¢˜ 2ï¼šæ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨

**æ£€æŸ¥**ï¼š
```bash
# æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
lsof -i :8080

# å¦‚æœæ²¡æœ‰ï¼Œå¯åŠ¨æœåŠ¡å™¨
cd server
./server
```

### é—®é¢˜ 3ï¼šWine æ— æ³•è¿è¡Œ exe

**è§£å†³**ï¼š
```bash
# å®‰è£… Wine
brew install wine-stable

# æµ‹è¯• Wine
wine --version

# æ‰‹åŠ¨æµ‹è¯•ç¨‹åº
wine lzy_zte_12.10.exe
```

### é—®é¢˜ 4ï¼šè®¸å¯è¯éªŒè¯å¤±è´¥

**æ£€æŸ¥**ï¼š
1. è®¸å¯è¯å¯†é’¥æ˜¯å¦æ­£ç¡®ï¼Ÿ
2. æœåŠ¡å™¨æ˜¯å¦åœ¨è¿è¡Œï¼Ÿ
3. è®¸å¯è¯æ˜¯å¦å·²è¢«æ¿€æ´»åˆ°å…¶ä»–è®¾å¤‡ï¼Ÿ

**é‡ç½®è®¸å¯è¯**ï¼š
```bash
rm license.dat
```
ç„¶åé‡æ–°æ¿€æ´»ã€‚

### é—®é¢˜ 5ï¼šç¨‹åºå¯åŠ¨åç«‹å³é€€å‡º

**è°ƒè¯•**ï¼š
```bash
# åœ¨ç»ˆç«¯è¿è¡ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯
/usr/bin/python3 launcher_wrapper.py
```

## ğŸ“Š æµ‹è¯•æ¸…å•

ä½¿ç”¨å‰è¯·æµ‹è¯•ä»¥ä¸‹åœºæ™¯ï¼š

- âœ… é¦–æ¬¡æ¿€æ´»ï¼ˆè¾“å…¥è®¸å¯è¯ï¼‰
- âœ… è¾“å…¥é”™è¯¯çš„è®¸å¯è¯
- âœ… å†æ¬¡è¿è¡Œï¼ˆè‡ªåŠ¨éªŒè¯ï¼‰
- âœ… åˆ é™¤ license.dat åé‡æ–°æ¿€æ´»
- âœ… ç¨‹åºæ˜¯å¦æ­£å¸¸å¯åŠ¨
- âœ… éªŒè¯çª—å£æ˜¯å¦æ­£å¸¸å…³é—­

## ğŸŒ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

### æœåŠ¡å™¨éƒ¨ç½²

å°†è®¸å¯è¯æœåŠ¡å™¨éƒ¨ç½²åˆ°å…¬ç½‘æœåŠ¡å™¨ï¼š

1. **ä¿®æ”¹é…ç½®**ï¼ˆlauncher_wrapper.py ç¬¬ 41 è¡Œï¼‰ï¼š
   ```python
   self.server_url = "https://your-domain.com"
   ```

2. **éƒ¨ç½²æœåŠ¡å™¨**ï¼ˆå‚è€ƒä¸»æ–‡æ¡£çš„éƒ¨ç½²éƒ¨åˆ†ï¼‰

### åˆ†å‘ç»™ç”¨æˆ·

æœ€ç»ˆç»™ç”¨æˆ·çš„æ–‡ä»¶ï¼š
```
ç¨‹åºåŒ…/
â”œâ”€â”€ å¯åŠ¨å™¨.command           # macOS ç”¨æˆ·åŒå‡»è¿™ä¸ª
â”œâ”€â”€ launcher_wrapper.py      # å¯åŠ¨å™¨æºç 
â”œâ”€â”€ lzy_zte_12.10.exe       # æ‚¨çš„ç¨‹åº
â””â”€â”€ ä½¿ç”¨è¯´æ˜.txt            # ç®€å•çš„ä½¿ç”¨è¯´æ˜
```

æˆ–è€…æ‰“åŒ…åï¼š
```
ç¨‹åºåŒ…/
â”œâ”€â”€ è®¸å¯è¯éªŒè¯ç³»ç»Ÿ.app       # åŒå‡»è¿è¡Œ
â””â”€â”€ ä½¿ç”¨è¯´æ˜.txt
```

## ğŸ’¡ é«˜çº§åŠŸèƒ½

### æ·»åŠ è‡ªåŠ¨æ›´æ–°

å¯ä»¥åœ¨å¯åŠ¨å™¨ä¸­æ·»åŠ ç‰ˆæœ¬æ£€æŸ¥ï¼š

```python
def check_update(self):
    try:
        response = requests.get(f"{self.server_url}/api/version")
        latest_version = response.json()['version']
        current_version = "1.0.0"

        if latest_version > current_version:
            messagebox.showinfo("æ›´æ–°æç¤º",
                              f"å‘ç°æ–°ç‰ˆæœ¬ {latest_version}\\nè¯·è®¿é—®å®˜ç½‘ä¸‹è½½")
    except:
        pass
```

### æ·»åŠ å¿ƒè·³ç›‘æ§

åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æŒç»­ç›‘æ§è®¸å¯è¯çŠ¶æ€ï¼š

```python
def heartbeat_monitor(self, process):
    """åå°å¿ƒè·³ç›‘æ§"""
    while process.poll() is None:  # ç¨‹åºè¿˜åœ¨è¿è¡Œ
        time.sleep(30)  # æ¯30ç§’
        if not self.send_heartbeat():
            # è®¸å¯è¯å¤±æ•ˆï¼Œç»ˆæ­¢ç¨‹åº
            process.terminate()
            messagebox.showerror("è®¸å¯è¯å¤±æ•ˆ", "è®¸å¯è¯éªŒè¯å¤±è´¥ï¼Œç¨‹åºå°†å…³é—­")
            break
```

### æ·»åŠ ä½¿ç”¨ç»Ÿè®¡

è®°å½•ç¨‹åºä½¿ç”¨æƒ…å†µï¼š

```python
def log_usage(self):
    """è®°å½•ä½¿ç”¨æƒ…å†µ"""
    try:
        requests.post(f"{self.server_url}/api/usage-log", json={
            "license_key": self.license_key,
            "action": "program_started",
            "timestamp": time.time()
        })
    except:
        pass
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ä¸»é¡¹ç›®æ–‡æ¡£](../README.md)
- [é›†æˆåˆ°EXEçš„å®Œæ•´æŒ‡å—](docs/é›†æˆåˆ°EXEçš„å®Œæ•´æŒ‡å—.md)
- [ç¨‹åºåŒ…è£…å™¨ä½¿ç”¨è¯´æ˜](docs/ç¨‹åºåŒ…è£…å™¨ä½¿ç”¨è¯´æ˜.md)

## ğŸ‰ å®Œæˆ

ç°åœ¨æ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ï¼

1. åŒå‡» `å¯åŠ¨å™¨.command`
2. è¾“å…¥è®¸å¯è¯å¯†é’¥
3. äº«å—æ‚¨çš„ç¨‹åºï¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ•…éšœæ’æŸ¥éƒ¨åˆ†æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚
