# Python GUI ç¨‹åº - ä½¿ç”¨è¯´æ˜

## ğŸ“¦ ç¨‹åºè¯´æ˜

è¿™æ˜¯ä¸€ä¸ªå¸¦å›¾å½¢ç•Œé¢çš„è®¸å¯è¯éªŒè¯ç¨‹åºç¤ºä¾‹,åŒ…å«ä»¥ä¸‹åŠŸèƒ½:
- âœ… è¾“å…¥è®¸å¯è¯å¯†é’¥
- âœ… æ¿€æ´»æŒ‰é’®
- âœ… æµ‹è¯•è¿æ¥æŒ‰é’®
- âœ… å®æ—¶çŠ¶æ€æ˜¾ç¤º
- âœ… è‡ªåŠ¨å¿ƒè·³ç›‘æ§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£… requests åº“
pip install requests

# æˆ–è€…ä½¿ç”¨ requirements.txt
pip install -r requirements.txt
```

### 2. è¿è¡Œç¨‹åº

```bash
python python_gui_example.py
```

### 3. ä½¿ç”¨æµç¨‹

1. **ç‚¹å‡»"æµ‹è¯•è¿æ¥"** - ç¡®è®¤æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ
2. **è¾“å…¥è®¸å¯è¯å¯†é’¥** - ä¾‹å¦‚: `LICENSE-2025-XXX`
3. **ç‚¹å‡»"æ¿€æ´»è®¸å¯è¯"** - å¼€å§‹æ¿€æ´»
4. **æŸ¥çœ‹çŠ¶æ€æ—¥å¿—** - è§‚å¯Ÿæ¿€æ´»è¿›åº¦
5. **æ¿€æ´»æˆåŠŸå** - ç¨‹åºè‡ªåŠ¨å¯åŠ¨å¿ƒè·³ç›‘æ§

## ğŸ“‹ ç•Œé¢è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ğŸ” è®¸å¯è¯éªŒè¯ç³»ç»Ÿ                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¡¬ä»¶ä¿¡æ¯                            â”‚
â”‚  ç¡¬ä»¶ID: abc123...                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¸å¯è¯å¯†é’¥                          â”‚
â”‚  [LICENSE-2025-_____________]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æ¿€æ´»è®¸å¯è¯]  [æµ‹è¯•è¿æ¥]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  çŠ¶æ€ä¿¡æ¯                            â”‚
â”‚  [10:30:15] ç³»ç»Ÿå·²å¯åŠ¨               â”‚
â”‚  [10:30:20] âœ… æœåŠ¡å™¨è¿æ¥æˆåŠŸ!       â”‚
â”‚  [10:30:25] æ­£åœ¨æ¿€æ´»è®¸å¯è¯...        â”‚
â”‚  [10:30:26] âœ… è®¸å¯è¯æ¿€æ´»æˆåŠŸ!       â”‚
â”‚  [10:30:26] ğŸ’“ å¿ƒè·³ç›‘æ§å·²å¯åŠ¨        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœåŠ¡å™¨åœ°å€: http://localhost:8080   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹æœåŠ¡å™¨åœ°å€

ç¼–è¾‘ `python_gui_example.py`,æ‰¾åˆ°ç¬¬ 20 è¡Œ:

```python
self.server_url = "http://localhost:8080"
```

æ”¹ä¸ºä½ çš„æœåŠ¡å™¨åœ°å€:

```python
self.server_url = "https://your-server.com"
```

### ä¿®æ”¹å¿ƒè·³é—´éš”

æ‰¾åˆ°ç¬¬ 150 è¡Œ:

```python
time.sleep(30)  # 30ç§’å¿ƒè·³é—´éš”
```

æ”¹ä¸ºä½ éœ€è¦çš„é—´éš”:

```python
time.sleep(60)  # 60ç§’å¿ƒè·³é—´éš”
```

### ä¿®æ”¹çª—å£å¤§å°

æ‰¾åˆ°ç¬¬ 17 è¡Œ:

```python
self.root.geometry("500x400")
```

æ”¹ä¸ºä½ éœ€è¦çš„å¤§å°:

```python
self.root.geometry("600x500")
```

## ğŸ“¦ æ‰“åŒ…æˆ exe

### æ–¹æ³• 1: ä½¿ç”¨ PyInstaller

```bash
# å®‰è£… PyInstaller
pip install pyinstaller

# æ‰“åŒ…æˆå•ä¸ª exe æ–‡ä»¶
pyinstaller --onefile --noconsole --name="è®¸å¯è¯éªŒè¯ç¨‹åº" python_gui_example.py

# æ‰“åŒ…åçš„ exe åœ¨ dist/ ç›®å½•ä¸‹
```

### æ–¹æ³• 2: æ·»åŠ å›¾æ ‡

```bash
# å‡†å¤‡ä¸€ä¸ª .ico å›¾æ ‡æ–‡ä»¶
# ç„¶åæ‰“åŒ…
pyinstaller --onefile --noconsole --icon=app.ico --name="è®¸å¯è¯éªŒè¯ç¨‹åº" python_gui_example.py
```

### æ–¹æ³• 3: ä½¿ç”¨é…ç½®æ–‡ä»¶

åˆ›å»º `license_app.spec` æ–‡ä»¶:

```python
# -*- mode: python ; coding: utf-8 -*-

block_cipher = None

a = Analysis(
    ['python_gui_example.py'],
    pathex=[],
    binaries=[],
    datas=[],
    hiddenimports=['requests'],
    hookspath=[],
    hooksconfig={},
    runtime_hooks=[],
    excludes=[],
    win_no_prefer_redirects=False,
    win_private_assemblies=False,
    cipher=block_cipher,
    noarchive=False,
)

pyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher)

exe = EXE(
    pyz,
    a.scripts,
    a.binaries,
    a.zipfiles,
    a.datas,
    [],
    name='è®¸å¯è¯éªŒè¯ç¨‹åº',
    debug=False,
    bootloader_ignore_signals=False,
    strip=False,
    upx=True,
    upx_exclude=[],
    runtime_tmpdir=None,
    console=False,
    disable_windowed_traceback=False,
    argv_emulation=False,
    target_arch=None,
    codesign_identity=None,
    entitlements_file=None,
    icon='app.ico',  # å›¾æ ‡æ–‡ä»¶
)
```

ä½¿ç”¨é…ç½®æ–‡ä»¶æ‰“åŒ…:

```bash
pyinstaller license_app.spec
```

## ğŸ¨ ç•Œé¢å¢å¼º (å¯é€‰)

### æ·»åŠ ä¸»é¢˜

```bash
# å®‰è£… ttkbootstrap (ç°ä»£åŒ–ä¸»é¢˜)
pip install ttkbootstrap
```

ä¿®æ”¹ä»£ç :

```python
import ttkbootstrap as ttk
from ttkbootstrap.constants import *

# ä¿®æ”¹ç¬¬ 14 è¡Œ
def __init__(self, root):
    self.root = root
    self.root.title("è®¸å¯è¯éªŒè¯ç³»ç»Ÿ")
    self.root.geometry("500x400")

    # è®¾ç½®ä¸»é¢˜
    style = ttk.Style("flatly")  # å¯é€‰: flatly, darkly, cosmo ç­‰
```

### æ·»åŠ è¿›åº¦æ¡

åœ¨æ¿€æ´»è¿‡ç¨‹ä¸­æ˜¾ç¤ºè¿›åº¦æ¡:

```python
# æ·»åŠ è¿›åº¦æ¡
self.progress = ttk.Progressbar(main_frame, mode='indeterminate')
self.progress.grid(row=6, column=0, columnspan=2, sticky=(tk.W, tk.E), pady=10)
self.progress.grid_remove()  # é»˜è®¤éšè—

# æ¿€æ´»æ—¶æ˜¾ç¤º
def activate_license(self):
    self.progress.grid()
    self.progress.start()
    # ... æ¿€æ´»é€»è¾‘

# æ¿€æ´»å®Œæˆåéšè—
def _do_activate(self):
    # ... æ¿€æ´»é€»è¾‘
    self.root.after(0, lambda: self.progress.stop())
    self.root.after(0, lambda: self.progress.grid_remove())
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### 1. æ·»åŠ é…ç½®æ–‡ä»¶ä¿å­˜

```python
import json
import os

def save_config(self):
    """ä¿å­˜é…ç½®"""
    config = {
        "server_url": self.server_url,
        "license_key": self.license_key,
        "last_activated": time.strftime("%Y-%m-%d %H:%M:%S")
    }
    with open("config.json", "w") as f:
        json.dump(config, f, indent=2)

def load_config(self):
    """åŠ è½½é…ç½®"""
    if os.path.exists("config.json"):
        with open("config.json", "r") as f:
            config = json.load(f)
            self.server_url = config.get("server_url", "http://localhost:8080")
            saved_key = config.get("license_key", "")
            if saved_key:
                self.license_entry.insert(0, saved_key)
```

### 2. æ·»åŠ æ‰˜ç›˜å›¾æ ‡

```bash
pip install pystray Pillow
```

```python
from pystray import Icon, Menu, MenuItem
from PIL import Image

def create_tray_icon(self):
    """åˆ›å»ºç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡"""
    # åˆ›å»ºä¸€ä¸ªç®€å•çš„å›¾æ ‡
    image = Image.new('RGB', (64, 64), color='blue')

    def on_quit(icon, item):
        icon.stop()
        self.root.quit()

    menu = Menu(
        MenuItem('æ˜¾ç¤º', lambda: self.root.deiconify()),
        MenuItem('é€€å‡º', on_quit)
    )

    icon = Icon("license_app", image, "è®¸å¯è¯éªŒè¯", menu)
    threading.Thread(target=icon.run, daemon=True).start()
```

### 3. æ·»åŠ æ—¥å¿—æ–‡ä»¶

```python
import logging

# é…ç½®æ—¥å¿—
logging.basicConfig(
    filename='app.log',
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s'
)

def log_status(self, message):
    """è®°å½•çŠ¶æ€æ—¥å¿—"""
    timestamp = time.strftime("%H:%M:%S")
    self.status_text.config(state='normal')
    self.status_text.insert(tk.END, f"[{timestamp}] {message}\n")
    self.status_text.see(tk.END)
    self.status_text.config(state='disabled')

    # åŒæ—¶å†™å…¥æ—¥å¿—æ–‡ä»¶
    logging.info(message)
```

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨

**ç—‡çŠ¶**: ç‚¹å‡»"æµ‹è¯•è¿æ¥"æ˜¾ç¤ºè¿æ¥å¤±è´¥

**è§£å†³æ–¹æ³•**:
1. ç¡®è®¤è®¸å¯è¯æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ:
   ```bash
   curl http://localhost:8080/api/admin/stats
   ```
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. ç¡®è®¤æœåŠ¡å™¨åœ°å€æ­£ç¡®

### é—®é¢˜ 2: æ¿€æ´»å¤±è´¥

**ç—‡çŠ¶**: è¾“å…¥å¯†é’¥åæ¿€æ´»å¤±è´¥

**å¯èƒ½åŸå› **:
- è®¸å¯è¯å¯†é’¥ä¸å­˜åœ¨
- è®¸å¯è¯å·²è¿‡æœŸ
- è®¸å¯è¯å·²åœ¨å…¶ä»–è®¾å¤‡æ¿€æ´»
- è®¸å¯è¯å·²è¢«å°ç¦

**è§£å†³æ–¹æ³•**:
1. åœ¨ç®¡ç†åå°æ£€æŸ¥è®¸å¯è¯çŠ¶æ€
2. ç¡®è®¤è®¸å¯è¯å¯†é’¥æ‹¼å†™æ­£ç¡®
3. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—äº†è§£è¯¦æƒ…

### é—®é¢˜ 3: æ‰“åŒ…åæ— æ³•è¿è¡Œ

**ç—‡çŠ¶**: exe æ–‡ä»¶åŒå‡»åé—ªé€€

**è§£å†³æ–¹æ³•**:
1. ä¸ä½¿ç”¨ `--noconsole` å‚æ•°é‡æ–°æ‰“åŒ…,æŸ¥çœ‹é”™è¯¯ä¿¡æ¯:
   ```bash
   pyinstaller --onefile python_gui_example.py
   ```
2. ç¡®è®¤æ‰€æœ‰ä¾èµ–éƒ½å·²åŒ…å«
3. åœ¨å‘½ä»¤è¡Œè¿è¡Œ exe æŸ¥çœ‹é”™è¯¯:
   ```bash
   cd dist
   .\è®¸å¯è¯éªŒè¯ç¨‹åº.exe
   ```

### é—®é¢˜ 4: ç•Œé¢æ˜¾ç¤ºå¼‚å¸¸

**ç—‡çŠ¶**: ç•Œé¢å¸ƒå±€æ··ä¹±æˆ–å­—ä½“å¤ªå°

**è§£å†³æ–¹æ³•**:
1. è°ƒæ•´ DPI è®¾ç½®:
   ```python
   from ctypes import windll
   windll.shcore.SetProcessDpiAwareness(1)  # åœ¨ Windows ä¸Šè®¾ç½® DPI
   ```
2. è°ƒæ•´å­—ä½“å¤§å°
3. ä¿®æ”¹çª—å£å°ºå¯¸

## ğŸ“Š å®Œæ•´æµç¨‹å›¾

```
ç”¨æˆ·è¿è¡Œ exe
    â†“
æ˜¾ç¤º GUI ç•Œé¢
    â†“
ç”¨æˆ·è¾“å…¥è®¸å¯è¯å¯†é’¥
    â†“
ç‚¹å‡»"æ¿€æ´»è®¸å¯è¯"
    â†“
å‘é€ POST /api/activate
    â†“
æœåŠ¡å™¨éªŒè¯å¹¶æ¿€æ´»
    â†“
è¿”å› JWT token
    â†“
GUI æ˜¾ç¤º"æ¿€æ´»æˆåŠŸ"
    â†“
å¯åŠ¨å¿ƒè·³ç›‘æ§çº¿ç¨‹
    â†“
æ¯ 30 ç§’å‘é€ POST /api/heartbeat
    â†“
éªŒè¯æˆåŠŸ â†’ ç»§ç»­è¿è¡Œ
éªŒè¯å¤±è´¥ â†’ 3 æ¬¡é‡è¯• â†’ é€€å‡ºç¨‹åº
```

## ğŸ¯ æµ‹è¯•æ¸…å•

- [ ] æµ‹è¯•è¿æ¥åŠŸèƒ½æ­£å¸¸
- [ ] æ¿€æ´»åŠŸèƒ½æ­£å¸¸
- [ ] å¿ƒè·³ç›‘æ§æ­£å¸¸
- [ ] æ¿€æ´»å¤±è´¥æ—¶æ˜¾ç¤ºæ­£ç¡®é”™è¯¯
- [ ] ç½‘ç»œæ–­å¼€æ—¶èƒ½æ­£ç¡®é‡è¯•
- [ ] æ‰“åŒ…æˆ exe åæ­£å¸¸è¿è¡Œ
- [ ] ç•Œé¢åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹æ­£å¸¸æ˜¾ç¤º
- [ ] æ—¥å¿—è®°å½•æ­£å¸¸

## ğŸ“ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜è¯·æ£€æŸ¥:
1. **ç¨‹åºæ—¥å¿—**: æŸ¥çœ‹çŠ¶æ€ä¿¡æ¯æ¡†çš„æ—¥å¿—
2. **æœåŠ¡å™¨æ—¥å¿—**: `server/server.log`
3. **ç½‘ç»œè¿æ¥**: ç¡®è®¤èƒ½è®¿é—®æœåŠ¡å™¨
4. **è®¸å¯è¯çŠ¶æ€**: åœ¨ç®¡ç†åå°æŸ¥çœ‹

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«! ğŸ‰**

å¦‚æœ‰é—®é¢˜,è¯·æŸ¥çœ‹ [å®Œæ•´æ–‡æ¡£](./é›†æˆåˆ°EXEçš„å®Œæ•´æŒ‡å—.md)
